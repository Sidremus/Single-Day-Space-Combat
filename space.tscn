[gd_scene load_steps=20 format=3 uid="uid://b7oufysbp85wv"]

[ext_resource type="Texture2D" uid="uid://bosfmpbsb8ajd" path="res://stars.png" id="1_wnmn3"]
[ext_resource type="PackedScene" uid="uid://cw3ktf4yyhnet" path="res://models.blend" id="2_2iqou"]
[ext_resource type="Shader" path="res://screen_esdge_detection.gdshader" id="2_bsre6"]
[ext_resource type="Script" path="res://Ship.gd" id="2_novok"]
[ext_resource type="Texture2D" uid="uid://brqyxtb67o05h" path="res://crosshair012.png" id="3_4b1jd"]
[ext_resource type="Script" path="res://UI.gd" id="3_wa8bf"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_rpwt8"]
panorama = ExtResource("1_wnmn3")

[sub_resource type="Sky" id="Sky_a67nb"]
sky_material = SubResource("PanoramaSkyMaterial_rpwt8")

[sub_resource type="Environment" id="Environment_s7mte"]
background_mode = 2
background_energy_multiplier = 3.76
sky = SubResource("Sky_a67nb")
ambient_light_source = 2
glow_enabled = true
glow_levels/1 = 5.25
glow_levels/2 = 0.55
glow_levels/4 = 0.88
glow_levels/5 = 0.6
glow_levels/6 = 1.75
glow_normalized = true
glow_intensity = 0.25
glow_strength = 0.92
glow_bloom = 0.74
glow_blend_mode = 4
fog_light_color = Color(0, 0, 0, 1)
fog_density = 20.0
fog_sky_affect = 0.0

[sub_resource type="Curve" id="Curve_g1qcw"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0.300761), -2.07384, 0.0, 0, 0]
point_count = 2

[sub_resource type="Curve" id="Curve_87mhy"]
_data = [Vector2(0.00508788, 0), 0.0, 0.0, 0, 0, Vector2(0.0855689, 0.0574477), 1.34514, 1.34514, 0, 0, Vector2(0.837434, 0.660498), 0.551861, 0.551861, 0, 0, Vector2(1, 0.991007), 4.75173, 0.0, 0, 0]
point_count = 4

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_2kly8"]
points = PackedVector3Array(0.159246, -0.0226368, -0.192059, -0.159246, -0.0226368, -0.192059, -3.11881e-05, 0.0649403, -0.084088, -3.11881e-05, -0.0094504, 0.422445, -3.11881e-05, -0.0549107, -0.0168391)

[sub_resource type="ShaderMaterial" id="ShaderMaterial_limff"]
render_priority = 0
shader = ExtResource("2_bsre6")
shader_parameter/outline_mode = 3
shader_parameter/outline_intensity = 0.398
shader_parameter/outline_color = Color(1, 1, 1, 1)

[sub_resource type="QuadMesh" id="QuadMesh_otgfs"]
material = SubResource("ShaderMaterial_limff")
flip_faces = true
size = Vector2(2, 2)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_wvqdx"]
shading_mode = 0
albedo_color = Color(0, 0, 0, 1)

[sub_resource type="Gradient" id="Gradient_7rrd7"]
offsets = PackedFloat32Array(0, 0.118162, 0.225383, 0.315098, 0.459519, 0.50547)
colors = PackedColorArray(0.882353, 0.0470588, 0, 0, 0.8, 0.203922, 0.101961, 0.282353, 0.734314, 0.337265, 0.118364, 0.435294, 1, 1, 1, 0.196078, 2.31028e-06, 0.626814, 0.938409, 1, 0, 0, 0, 1)

[sub_resource type="GradientTexture2D" id="GradientTexture2D_0pr2g"]
gradient = SubResource("Gradient_7rrd7")
width = 32
height = 32
use_hdr = true
fill_to = Vector2(0, 1)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_md1w0"]
transparency = 1
blend_mode = 1
cull_mode = 2
shading_mode = 0
albedo_texture = SubResource("GradientTexture2D_0pr2g")
texture_filter = 0
texture_repeat = false
proximity_fade_enabled = true
proximity_fade_distance = 0.03
distance_fade_mode = 1
distance_fade_min_distance = 0.08
distance_fade_max_distance = 0.14

[sub_resource type="CylinderMesh" id="CylinderMesh_3sfdc"]
material = SubResource("StandardMaterial3D_md1w0")
top_radius = 0.0
bottom_radius = 0.039
height = 1.0
radial_segments = 4
rings = 1
cap_top = false

[node name="Space" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_s7mte")

[node name="Ship" type="CharacterBody3D" parent="."]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0, 0)
script = ExtResource("2_novok")
acc_curve = SubResource("Curve_g1qcw")
rot_curve = SubResource("Curve_87mhy")

[node name="UI" type="Control" parent="Ship"]
texture_filter = 1
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
pivot_offset = Vector2(960, 540)
script = ExtResource("3_wa8bf")

[node name="Crosshair" type="TextureRect" parent="Ship/UI"]
layout_mode = 0
offset_left = 881.0
offset_top = 750.0
offset_right = 1025.0
offset_bottom = 894.0
scale = Vector2(0.5, 0.5)
pivot_offset = Vector2(72, 72)
texture = ExtResource("3_4b1jd")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Ship"]
transform = Transform3D(1, 0, 1.74846e-07, 0, 1, 0, -1.74846e-07, 0, 1, 0, 0, 0)
shape = SubResource("ConvexPolygonShape3D_2kly8")

[node name="Camera3D" type="Camera3D" parent="Ship/CollisionShape3D"]
transform = Transform3D(-1, 0, 8.74228e-08, 0, 1, 0, -8.74228e-08, 0, -1, 0, 0, 0)
current = true
fov = 85.0
near = 0.017
far = 500.0

[node name="EdgeDetectionMesh" type="MeshInstance3D" parent="Ship/CollisionShape3D/Camera3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.0657016)
extra_cull_margin = 16384.0
mesh = SubResource("QuadMesh_otgfs")

[node name="Cockpit" type="Node3D" parent="Ship/CollisionShape3D/Camera3D"]

[node name="models2" parent="Ship/CollisionShape3D" instance=ExtResource("2_2iqou")]

[node name="Fighter01" parent="Ship/CollisionShape3D/models2" index="0"]
visible = false

[node name="models" parent="." instance=ExtResource("2_2iqou")]
transform = Transform3D(0.732156, 0.337941, -0.591392, -0.657633, 0.576838, -0.484538, 0.177391, 0.743676, 0.644576, -0.2471, 5.96046e-08, -3.03344)

[node name="Fighter01" parent="models" index="0"]
material_override = SubResource("StandardMaterial3D_wvqdx")

[node name="Node3D" type="Node3D" parent="models/Fighter01" index="0"]
transform = Transform3D(1, -3.42727e-07, 1.63913e-07, 3.42727e-07, 1, 4.26326e-14, -1.63913e-07, 1.35447e-14, 1, -7.15256e-07, 0.00850487, -0.0785042)

[node name="MeshInstance3D" type="MeshInstance3D" parent="models/Fighter01/Node3D"]
transform = Transform3D(1.60076, 1.49012e-07, -7.45058e-08, -8.9407e-08, 5.96046e-08, 1, -2.5332e-07, -1, 2.98023e-08, -5.96046e-08, 0, -0.5)
mesh = SubResource("CylinderMesh_3sfdc")
skeleton = NodePath("../..")

[node name="Cockpit" parent="models" index="1"]
visible = false

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
visible = false

[editable path="Ship/CollisionShape3D/models2"]
[editable path="models"]
